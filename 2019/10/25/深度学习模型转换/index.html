<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>深度学习模型转换 | 今天的风儿甚是喧嚣 JiaoPan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="mxnet模型转tensorflow模型requirements：pip install mxnet tensorflow 1.安装mmdnnpip install -U git+https:&#x2F;&#x2F;github.com&#x2F;Microsoft&#x2F;MMdnn.git@master 2.模型下载https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1If28BkHde4fiuweJrbicVA 3.mxnet模型转">
<meta property="og:type" content="article">
<meta property="og:title" content="深度学习模型转换">
<meta property="og:url" content="https://jiaopaner.github.io/2019/10/25/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/index.html">
<meta property="og:site_name" content="今天的风儿甚是喧嚣 JiaoPan">
<meta property="og:description" content="mxnet模型转tensorflow模型requirements：pip install mxnet tensorflow 1.安装mmdnnpip install -U git+https:&#x2F;&#x2F;github.com&#x2F;Microsoft&#x2F;MMdnn.git@master 2.模型下载https:&#x2F;&#x2F;pan.baidu.com&#x2F;s&#x2F;1If28BkHde4fiuweJrbicVA 3.mxnet模型转">
<meta property="article:published_time" content="2019-10-25T13:14:18.000Z">
<meta property="article:modified_time" content="2019-10-25T11:26:43.000Z">
<meta property="article:author" content="JiaoPan">
<meta property="article:tag" content="模型转换">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="今天的风儿甚是喧嚣 JiaoPan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">今天的风儿甚是喧嚣 JiaoPan</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jiaopaner.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-深度学习模型转换" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/10/25/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/" class="article-date">
  <time datetime="2019-10-25T13:14:18.000Z" itemprop="datePublished">2019-10-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      深度学习模型转换
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="mxnet模型转tensorflow模型"><a href="#mxnet模型转tensorflow模型" class="headerlink" title="mxnet模型转tensorflow模型"></a>mxnet模型转tensorflow模型</h3><p>requirements：pip install mxnet tensorflow</p>
<h5 id="1-安装mmdnn"><a href="#1-安装mmdnn" class="headerlink" title="1.安装mmdnn"></a>1.安装mmdnn</h5><p>pip install -U git+<a href="https://github.com/Microsoft/MMdnn.git@master" target="_blank" rel="noopener">https://github.com/Microsoft/MMdnn.git@master</a></p>
<h5 id="2-模型下载"><a href="#2-模型下载" class="headerlink" title="2.模型下载"></a>2.模型下载</h5><p><a href="https://pan.baidu.com/s/1If28BkHde4fiuweJrbicVA" target="_blank" rel="noopener">https://pan.baidu.com/s/1If28BkHde4fiuweJrbicVA</a></p>
<h5 id="3-mxnet模型转IR"><a href="#3-mxnet模型转IR" class="headerlink" title="3.mxnet模型转IR"></a>3.mxnet模型转IR</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python -m mmdnn.conversion._script.convertToIR -f mxnet -n model-symbol.json -w model-0000.params -d tf_model --inputShape 3,112,112 </span><br><span class="line"><span class="comment">#info:</span></span><br><span class="line">IR network structure is saved as [tf_model.json].<span class="comment">#可视化文件</span></span><br><span class="line">IR network structure is saved as [tf_model.pb].<span class="comment">#网络结构</span></span><br><span class="line">IR weights are saved as [tf_model.npy].<span class="comment">#权重参数</span></span><br></pre></td></tr></table></figure>

<p>若报错：AttributeError: ‘NoneType’ object has no attribute ‘asnumpy’ line 410</p>
<p>解决：找到python3.6/site-packages/mmdnn/conversion/mxnet/mxnet_parser.py 410 行 修改如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weight &#x3D; self.weight_data.get(&quot;fc1_weight&quot;).asnumpy().transpose((1, 0))</span><br></pre></td></tr></table></figure>

<p>参考：<a href="https://github.com/microsoft/MMdnn/issues/231" target="_blank" rel="noopener">https://github.com/microsoft/MMdnn/issues/231</a></p>
<h5 id="4-生成tf-model-py-用于还原神经网络结构"><a href="#4-生成tf-model-py-用于还原神经网络结构" class="headerlink" title="4.生成tf_model.py 用于还原神经网络结构"></a>4.生成tf_model.py 用于还原神经网络结构</h5><p>调用tf_model.py中的KitModel函数加载npy权重参数可重新生成原网络框架</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python -m mmdnn.conversion._script.IRToCode -f tensorflow --IRModelPath tf_model.pb --IRWeightPath tf_model.npy --dstModelPath tf_model.py</span><br><span class="line"><span class="comment">#info:</span></span><br><span class="line">Parse file [tf_model.pb] with binary format successfully.</span><br><span class="line">Target network code snippet is saved as [tf_model.py].</span><br></pre></td></tr></table></figure>

<h5 id="5-验证模型输出结果是否一致"><a href="#5-验证模型输出结果是否一致" class="headerlink" title="5.验证模型输出结果是否一致"></a>5.验证模型输出结果是否一致</h5><p>5.1 test_mxnet.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mxnet <span class="keyword">as</span> mx</span><br><span class="line"><span class="keyword">from</span> tensorflow.contrib.keras.api.keras.preprocessing <span class="keyword">import</span> image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple</span><br><span class="line">Batch = namedtuple(<span class="string">'Batch'</span>, [<span class="string">'data'</span>])</span><br><span class="line"></span><br><span class="line">ctx = mx.cpu(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#加载模型</span></span><br><span class="line">sym, arg_params, aux_params = mx.model.load_checkpoint(<span class="string">'mobile/model'</span>, <span class="number">0</span>) <span class="comment">#mobile文件夹下为 model-symbol.json -w model-0000.params</span></span><br><span class="line">mod = mx.mod.Module(symbol = sym, context= ctx, label_names= <span class="literal">None</span>)</span><br><span class="line">mod.bind(for_training=<span class="literal">False</span>, data_shapes=[(<span class="string">'data'</span>, (<span class="number">1</span>, <span class="number">3</span>, <span class="number">112</span>, <span class="number">112</span>))], label_shapes= mod._label_shapes)</span><br><span class="line">mod.set_params(arg_params, aux_params, allow_missing= <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">path = <span class="string">'face.jpeg'</span></span><br><span class="line">img = image.load_img(path, target_size = (<span class="number">112</span>, <span class="number">112</span>))</span><br><span class="line">img = image.img_to_array(img)</span><br><span class="line">img = img[..., ::<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">img = np.expand_dims(img, <span class="number">0</span>).transpose((<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">mod.forward(Batch([mx.nd.array(img)]))</span><br><span class="line">prob = mod.get_outputs()[<span class="number">0</span>].asnumpy()</span><br><span class="line">prob = np.squeeze(prob)</span><br><span class="line">print(prob)</span><br></pre></td></tr></table></figure>

<p><strong><em>执行命令</em></strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">python test_mxnet.py </span><br><span class="line"><span class="comment">#info:</span></span><br><span class="line">[<span class="number">17</span>:<span class="number">39</span>:<span class="number">57</span>] src/nnvm/legacy_json_util.cc:<span class="number">209</span>: Loading symbol saved by previous version v1<span class="number">.0</span><span class="number">.0</span>. Attempting to upgrade...</span><br><span class="line">[<span class="number">17</span>:<span class="number">39</span>:<span class="number">57</span>] src/nnvm/legacy_json_util.cc:<span class="number">217</span>: Symbol successfully upgraded!</span><br><span class="line">[ <span class="number">0.344491</span>    <span class="number">0.10190611</span> <span class="number">-0.24501216</span>  <span class="number">0.6819046</span>   <span class="number">0.88096315</span>  <span class="number">0.347766</span></span><br><span class="line"> <span class="number">-0.94702303</span> <span class="number">-0.67586213</span> <span class="number">-0.43900824</span>  <span class="number">0.81431276</span> <span class="number">-0.4899036</span>  <span class="number">-0.43025514</span></span><br><span class="line"> <span class="number">-0.50644076</span> <span class="number">-0.27366892</span>  <span class="number">0.63601595</span> <span class="number">-0.5352368</span>   <span class="number">0.13765731</span>  <span class="number">0.40842316</span></span><br><span class="line">  <span class="number">0.76525426</span> <span class="number">-0.8959755</span>   <span class="number">0.42129532</span> <span class="number">-0.38290668</span>  <span class="number">0.02023177</span> <span class="number">-0.14840017</span></span><br><span class="line">  <span class="number">0.9108279</span>  <span class="number">-0.27738237</span> <span class="number">-0.6017331</span>  <span class="number">-0.214954</span>    <span class="number">0.37644073</span>  <span class="number">0.48894417</span></span><br><span class="line"> <span class="number">-0.8824417</span>   <span class="number">0.31846505</span>  <span class="number">0.19936565</span>  <span class="number">0.27296835</span>  <span class="number">1.5621403</span>   <span class="number">0.4327985</span></span><br><span class="line"> <span class="number">-0.6486908</span>  <span class="number">-0.23494942</span> <span class="number">-0.8708738</span>  <span class="number">-0.77051663</span>  <span class="number">0.09255238</span> <span class="number">-1.1803752</span></span><br><span class="line"> <span class="number">-0.17184262</span>  <span class="number">0.2543226</span>  <span class="number">-0.19088541</span> <span class="number">-0.26873437</span>  <span class="number">0.9160875</span>  <span class="number">-0.18985008</span></span><br><span class="line"> <span class="number">-0.4793183</span>  <span class="number">-0.32987356</span> <span class="number">-1.3085973</span>   <span class="number">1.2959319</span>  <span class="number">-0.00581244</span>  <span class="number">0.12396478</span></span><br><span class="line">  <span class="number">1.2034996</span>   <span class="number">0.0991946</span>  <span class="number">-1.9225345</span>   <span class="number">0.92873436</span> <span class="number">-0.285992</span>    <span class="number">0.11249313</span></span><br><span class="line"> <span class="number">-1.4562801</span>   <span class="number">1.8767762</span>  <span class="number">-1.2222489</span>  <span class="number">-0.03905598</span>  <span class="number">0.5152731</span>   <span class="number">0.04876914</span></span><br><span class="line">  <span class="number">0.04671988</span> <span class="number">-0.32384786</span> <span class="number">-0.88341314</span>  <span class="number">0.58193505</span> <span class="number">-0.7378911</span>  <span class="number">-0.3082042</span></span><br><span class="line">  <span class="number">0.22141728</span>  <span class="number">0.7255646</span>   <span class="number">0.24394599</span>  <span class="number">0.6563271</span>  <span class="number">-0.46760473</span> <span class="number">-0.38698462</span></span><br><span class="line"> <span class="number">-0.11467619</span> <span class="number">-0.9940818</span>  <span class="number">-1.1298056</span>   <span class="number">1.015201</span>    <span class="number">0.03592067</span>  <span class="number">0.6738027</span></span><br><span class="line"> <span class="number">-0.5814839</span>   <span class="number">0.1565634</span>  <span class="number">-0.06737513</span> <span class="number">-1.040216</span>   <span class="number">-0.9286871</span>  <span class="number">-0.11091176</span></span><br><span class="line"> <span class="number">-0.66596293</span>  <span class="number">0.03736701</span> <span class="number">-0.35337982</span> <span class="number">-0.4175317</span>  <span class="number">-0.47258058</span> <span class="number">-0.62383175</span></span><br><span class="line"> <span class="number">-0.86612004</span> <span class="number">-0.5230916</span>  <span class="number">-1.7838901</span>   <span class="number">0.08661752</span> <span class="number">-0.02590845</span>  <span class="number">0.23406455</span></span><br><span class="line">  <span class="number">0.77719927</span>  <span class="number">1.4410776</span>   <span class="number">0.41925532</span>  <span class="number">0.4560187</span>  <span class="number">-0.02141571</span>  <span class="number">0.7005563</span></span><br><span class="line"> <span class="number">-0.58727044</span> <span class="number">-0.39757103</span>  <span class="number">1.2808248</span>  <span class="number">-1.1874324</span>  <span class="number">-0.27268586</span> <span class="number">-0.82443166</span></span><br><span class="line">  <span class="number">0.39704558</span> <span class="number">-1.2778002</span>  <span class="number">-0.52762616</span> <span class="number">-0.26455742</span>  <span class="number">1.2137026</span>   <span class="number">0.04997367</span></span><br><span class="line">  <span class="number">0.05591454</span>  <span class="number">1.0264031</span>   <span class="number">1.5093948</span>  <span class="number">-0.5634581</span>  <span class="number">-1.1715719</span>  <span class="number">-0.646347</span></span><br><span class="line">  <span class="number">0.6021179</span>   <span class="number">0.6725963</span> ]</span><br></pre></td></tr></table></figure>

<p>5.1 test_tensorflow.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> six <span class="keyword">import</span> text_type <span class="keyword">as</span> _text_type</span><br><span class="line"><span class="keyword">from</span> tensorflow.contrib.keras.api.keras.preprocessing <span class="keyword">import</span> image</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">'-n'</span>, type=_text_type, default=<span class="string">'kitModel'</span>,</span><br><span class="line">                    help=<span class="string">'Network structure file name.'</span>)</span><br><span class="line">parser.add_argument(<span class="string">'-w'</span>, type=_text_type, required=<span class="literal">True</span>,</span><br><span class="line">                    help=<span class="string">'Network weights file name'</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--image'</span>, <span class="string">'-i'</span>,</span><br><span class="line">                    type=_text_type, help=<span class="string">'Test image path.'</span>,</span><br><span class="line">                    default=<span class="string">"face.jpeg"</span>)</span><br><span class="line"></span><br><span class="line">args = parser.parse_args()</span><br><span class="line"><span class="keyword">if</span> args.n.endswith(<span class="string">'.py'</span>):</span><br><span class="line">    args.n = args.n[:<span class="number">-3</span>]</span><br><span class="line"></span><br><span class="line">model_converted = __import__(args.n).KitModel(args.w)</span><br><span class="line">input_tf, model_tf = model_converted</span><br><span class="line"></span><br><span class="line">img = image.load_img(args.image, target_size = (<span class="number">112</span>, <span class="number">112</span>))</span><br><span class="line">img = image.img_to_array(img)</span><br><span class="line">img = img[..., ::<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">input_data = np.expand_dims(img, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    init = tf.global_variables_initializer()</span><br><span class="line">    sess.run(init)</span><br><span class="line">    predict = sess.run(model_tf, feed_dict = &#123;input_tf : input_data&#125;)</span><br><span class="line">print(predict)</span><br></pre></td></tr></table></figure>

<p><strong>执行命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">python test_tensorflow.py -n tf_model.py -w tf_model.npy -i face.jpeg</span><br><span class="line"><span class="comment">#info:</span></span><br><span class="line">2019-10-25 17:51:37.745502: I tensorflow/core/common_runtime/process_util.cc:71] Creating new thread pool with default inter op setting: 12. Tune using inter_op_parallelism_threads <span class="keyword">for</span> best performance.</span><br><span class="line">[[ 0.3444912   0.10190725 -0.24501228  0.6819044   0.88096356  0.3477651</span><br><span class="line">  -0.9470245  -0.67586106 -0.43900767  0.8143126  -0.48990446 -0.43025535</span><br><span class="line">  -0.50643945 -0.27366814  0.63601726 -0.5352377   0.13765681  0.40842274</span><br><span class="line">   0.7652553  -0.8959763   0.42129317 -0.38290572  0.02023016 -0.14840023</span><br><span class="line">   0.91082776 -0.27738187 -0.60173315 -0.2149537   0.37644142  0.48894492</span><br><span class="line">  -0.8824413   0.3184655   0.19936629  0.2729676   1.5621389   0.4327973</span><br><span class="line">  -0.6486915  -0.23494866 -0.87087345 -0.77051604  0.09255352 -1.180374</span><br><span class="line">  -0.17184272  0.25432315 -0.19088425 -0.26873374  0.91608876 -0.18985137</span><br><span class="line">  -0.4793172  -0.3298719  -1.308598    1.2959337  -0.00581198  0.12396422</span><br><span class="line">   1.2034999   0.09919477 -1.9225347   0.92873377 -0.28599226  0.11249284</span><br><span class="line">  -1.4562793   1.876776   -1.2222495  -0.03905648  0.5152732   0.04876836</span><br><span class="line">   0.04672025 -0.32384863 -0.8834132   0.581934   -0.7378913  -0.30820462</span><br><span class="line">   0.22141635  0.72556514  0.2439455   0.6563256  -0.46760577 -0.38698506</span><br><span class="line">  -0.1146768  -0.9940842  -1.1298054   1.015199    0.03592021  0.67380327</span><br><span class="line">  -0.58148336  0.15656358 -0.06737413 -1.0402167  -0.9286856  -0.11091161</span><br><span class="line">  -0.66596127  0.03736706 -0.35337985 -0.41753066 -0.47258082 -0.62383235</span><br><span class="line">  -0.8661205  -0.52309173 -1.7838898   0.08661895 -0.02590791  0.23406385</span><br><span class="line">   0.7771991   1.4410769   0.41925538  0.45601875 -0.02141583  0.70055544</span><br><span class="line">  -0.587271   -0.3975702   1.2808259  -1.1874334  -0.27268624 -0.8244319</span><br><span class="line">   0.39704552 -1.2778007  -0.5276267  -0.2645575   1.2137012   0.04997464</span><br><span class="line">   0.05591418  1.0264043   1.5093954  -0.5634565  -1.1715722  -0.6463482</span><br><span class="line">   0.60211945  0.67259526]]</span><br></pre></td></tr></table></figure>

<h5 id="6-基于tf-model-npy和tf-model-py文件，固化参数，生成PB文件"><a href="#6-基于tf-model-npy和tf-model-py文件，固化参数，生成PB文件" class="headerlink" title="6.基于tf_model.npy和tf_model.py文件，固化参数，生成PB文件"></a>6.基于tf_model.npy和tf_model.py文件，固化参数，生成PB文件</h5><p>freeze_graph.py </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> tf_model <span class="keyword">as</span> tf_fun</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">netWork</span><span class="params">()</span>:</span></span><br><span class="line">    model=tf_fun.KitModel(<span class="string">"./tf_model.npy"</span>) <span class="comment">#调用tf_model.py中的KitModel函数加载npy权重参数</span></span><br><span class="line">    <span class="keyword">return</span> model</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">freeze_graph</span><span class="params">(output_graph)</span>:</span></span><br><span class="line">    output_node_names = <span class="string">"output"</span></span><br><span class="line">    data,fc1=netWork()</span><br><span class="line">    fc1=tf.identity(fc1,name=<span class="string">"output"</span>)</span><br><span class="line"> </span><br><span class="line">    graph = tf.get_default_graph()  <span class="comment"># 获得默认的图</span></span><br><span class="line">    input_graph_def = graph.as_graph_def()  <span class="comment"># 返回一个序列化的图代表当前的图</span></span><br><span class="line">    init = tf.global_variables_initializer()</span><br><span class="line">    <span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">        sess.run(init)</span><br><span class="line">        output_graph_def = tf.graph_util.convert_variables_to_constants(  <span class="comment"># 模型持久化，将变量值固定</span></span><br><span class="line">            sess=sess,</span><br><span class="line">            input_graph_def=input_graph_def,  <span class="comment"># 等于:sess.graph_def</span></span><br><span class="line">            output_node_names=output_node_names.split(<span class="string">","</span>))  <span class="comment"># 如果有多个输出节点，以逗号隔开</span></span><br><span class="line"> </span><br><span class="line">        <span class="keyword">with</span> tf.gfile.GFile(output_graph, <span class="string">"wb"</span>) <span class="keyword">as</span> f:  <span class="comment"># 保存模型</span></span><br><span class="line">            f.write(output_graph_def.SerializeToString())  <span class="comment"># 序列化输出</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    freeze_graph(<span class="string">"frozen_model.pb"</span>)</span><br><span class="line">    print(<span class="string">"finish!"</span>)</span><br></pre></td></tr></table></figure>

<p>python freeze_graph.py </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#info:</span></span><br><span class="line">Instructions <span class="keyword">for</span> updating:</span><br><span class="line">Use tf.compat.v1.graph_util.extract_sub_graph</span><br><span class="line">finish!</span><br></pre></td></tr></table></figure>

<p><strong>测试pb模型</strong></p>
<p>test_pb.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> tensorflow.contrib.keras.api.keras.preprocessing <span class="keyword">import</span> image</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.gfile.FastGFile(<span class="string">'frozen_model.pb'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    graph_def = tf.GraphDef()</span><br><span class="line">    graph_def.ParseFromString(f.read())</span><br><span class="line">    tf.import_graph_def(graph_def, name=<span class="string">''</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    </span><br><span class="line">    img = image.load_img(<span class="string">'face.jpeg'</span>, target_size = (<span class="number">112</span>, <span class="number">112</span>))</span><br><span class="line">    img = image.img_to_array(img)</span><br><span class="line">    img = img[..., ::<span class="number">-1</span>]</span><br><span class="line">    input_data = np.expand_dims(img, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    init = tf.global_variables_initializer()</span><br><span class="line">    sess.run(init)</span><br><span class="line">    <span class="comment">#print(tf.get_default_graph().get_operations()) 根据输出值，可知输入tensor名为data 全连接层输出的tensor名为ouput</span></span><br><span class="line">    <span class="comment">#op = sess.graph.get_tensor_by_name('fc1/add_1:0')</span></span><br><span class="line">    <span class="comment">#predict = sess.run(op, feed_dict = &#123;'data:0' : input_data&#125;)</span></span><br><span class="line">    op = sess.graph.get_tensor_by_name(<span class="string">'output:0'</span>)</span><br><span class="line">    predict = sess.run(op, feed_dict = &#123;<span class="string">'data:0'</span> : input_data&#125;)</span><br><span class="line">print(predict)</span><br></pre></td></tr></table></figure>

<p>python test_pb.py</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#info:</span></span><br><span class="line">[[ 0.3444914   0.10190733 -0.2450121   0.68190414  0.8809633   0.3477656</span><br><span class="line">  -0.94702375 -0.6758606  -0.43900838  0.8143138  -0.48990518 -0.43025577</span><br><span class="line">  -0.5064386  -0.2736677   0.6360168  -0.5352382   0.13765849  0.40842175</span><br><span class="line">   0.7652537  -0.8959745   0.42129484 -0.3829043   0.02023116 -0.14839967</span><br><span class="line">   0.9108265  -0.27738202 -0.6017342  -0.21495399  0.37644026  0.48894358</span><br><span class="line">  -0.88244045  0.31846407  0.19936593  0.2729677   1.5621401   0.4327974</span><br><span class="line">  -0.6486902  -0.23494998 -0.8708729  -0.7705149   0.09255301 -1.1803752</span><br><span class="line">  -0.17184293  0.25432175 -0.19088468 -0.2687335   0.91608775 -0.18984997</span><br><span class="line">  -0.4793176  -0.32987317 -1.3085989   1.295933   -0.00581315  0.12396483</span><br><span class="line">   1.2034997   0.09919491 -1.9225343   0.9287349  -0.28599253  0.11249258</span><br><span class="line">  -1.4562799   1.876776   -1.222248   -0.03905599  0.5152738   0.04876841</span><br><span class="line">   0.04672143 -0.32384768 -0.88341135  0.58193433 -0.73789096 -0.30820417</span><br><span class="line">   0.22141536  0.7255656   0.24394391  0.65632653 -0.4676048  -0.38698527</span><br><span class="line">  -0.11467646 -0.9940818  -1.1298064   1.0152006   0.03592108  0.6738041</span><br><span class="line">  -0.5814836   0.1565624  -0.06737386 -1.0402162  -0.92868716 -0.1109117</span><br><span class="line">  -0.66596234  0.03736827 -0.35337996 -0.41753033 -0.4725821  -0.623832</span><br><span class="line">  -0.86612093 -0.5230911  -1.7838906   0.0866183  -0.02590806  0.23406453</span><br><span class="line">   0.77719873  1.4410781   0.41925526  0.45601833 -0.02141543  0.7005538</span><br><span class="line">  -0.5872698  -0.39757127  1.2808269  -1.1874311  -0.2726869  -0.8244321</span><br><span class="line">   0.39704597 -1.2778006  -0.5276277  -0.26455772  1.2137022   0.04997511</span><br><span class="line">   0.05591565  1.0264047   1.5093955  -0.56345737 -1.1715721  -0.64634734</span><br><span class="line">   0.60211873  0.67259526]]</span><br></pre></td></tr></table></figure>

<h5 id="7-pb模型转换为-tflite模型供tensorflow-lite调用-移动端部署"><a href="#7-pb模型转换为-tflite模型供tensorflow-lite调用-移动端部署" class="headerlink" title="7. .pb模型转换为.tflite模型供tensorflow lite调用(移动端部署)"></a>7. .pb模型转换为.tflite模型供tensorflow lite调用(移动端部署)</h5><p>pb2tflite.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">convert=tf.lite.TFLiteConverter.from_frozen_graph(<span class="string">"frozen_model.pb"</span>,input_arrays=[<span class="string">"data"</span>],</span><br><span class="line">                                                  output_arrays=[<span class="string">"output"</span>],</span><br><span class="line">                                                  input_shapes=&#123;<span class="string">"data"</span>:[<span class="number">1</span>,<span class="number">112</span>,<span class="number">112</span>,<span class="number">3</span>]&#125;)</span><br><span class="line">convert.post_training_quantize=<span class="literal">True</span> <span class="comment">#是否量化</span></span><br><span class="line">tflite_model=convert.convert()</span><br><span class="line">open(<span class="string">"mobilenet.tflite"</span>,<span class="string">"wb"</span>).write(tflite_model)</span><br><span class="line">print(<span class="string">"finish!"</span>)</span><br></pre></td></tr></table></figure>

<p>python pb2tflite.py</p>
<p>info: 文件夹中生成mobilenet.tflite</p>
<p>版权声明：原创,转载请注明来源,否则律师函警告</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jiaopaner.github.io/2019/10/25/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/" data-id="ck4mhjkdj0048w6zw9mmrbhxw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/" rel="tag">模型转换</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/11/01/android%E4%BD%BF%E7%94%A8opencv%20native%E6%96%B9%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          android使用opencv native方式环境搭建
        
      </div>
    </a>
  
  
    <a href="/2019/09/19/mxnet%20Windows%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85CPU%E7%89%88/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">mxnet Windows编译安装CPU版 c++ api</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/leetcode/">leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/opencv3/">opencv3</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">数字图像处理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E5%AD%A6/">数学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/">目标检测</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JNA/" rel="tag">JNA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk/" rel="tag">jdk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/make/" rel="tag">make</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mxnet/" rel="tag">mxnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opencv/" rel="tag">opencv</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opencv-samples/" rel="tag">opencv samples</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/opencv3/" rel="tag">opencv3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E8%B4%B4%E5%A3%AB/" rel="tag">小贴士</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" rel="tag">数字图像处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6/" rel="tag">数学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/" rel="tag">模型转换</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">深度学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/" rel="tag">神经网络模型</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 16px;">C++</a> <a href="/tags/JNA/" style="font-size: 10px;">JNA</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/jdk/" style="font-size: 10px;">jdk</a> <a href="/tags/leetcode/" style="font-size: 20px;">leetcode</a> <a href="/tags/make/" style="font-size: 10px;">make</a> <a href="/tags/mxnet/" style="font-size: 10px;">mxnet</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/opencv/" style="font-size: 10px;">opencv</a> <a href="/tags/opencv-samples/" style="font-size: 10px;">opencv samples</a> <a href="/tags/opencv3/" style="font-size: 16px;">opencv3</a> <a href="/tags/%E5%B0%8F%E8%B4%B4%E5%A3%AB/" style="font-size: 10px;">小贴士</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 14px;">操作系统</a> <a href="/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 12px;">数字图像处理</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 12px;">数学</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 18px;">数据结构</a> <a href="/tags/%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/" style="font-size: 10px;">模型转换</a> <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">深度学习</a> <a href="/tags/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B/" style="font-size: 12px;">神经网络模型</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/12/18/elasticsearch%20%E6%95%99%E7%A8%8B/">elasticsearch 教程</a>
          </li>
        
          <li>
            <a href="/2019/11/20/hadoop%20spark/">hadoop spark</a>
          </li>
        
          <li>
            <a href="/2019/11/01/android%E4%BD%BF%E7%94%A8opencv%20native%E6%96%B9%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">android使用opencv native方式环境搭建</a>
          </li>
        
          <li>
            <a href="/2019/10/25/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B%E8%BD%AC%E6%8D%A2/">深度学习模型转换</a>
          </li>
        
          <li>
            <a href="/2019/09/19/mxnet%20Windows%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85CPU%E7%89%88/">mxnet Windows编译安装CPU版 c++ api</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 JiaoPan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>